# Asynchronous-global-types-implementation

Tool executed with Java version 15.0.1, SWI-Prolog version 8.2.2 and ANTLR version 4.8

The repository is composed of the following files:
- "eclipseProject.jar", containing the eclipse project
- "global_types.pl", containing the SWI-Prolog core
- "test.txt", containing some example tests written in the query language
- "test_generator.jar", containing the executable version of the tool

To execute the tests written in file "input.txt" and write the resulting prolog code in file "code.pl" 
```
java -jar test_generator.jar input.txt code.pl
```
During the execution the tool produces a new copy of "global_types.pl" in the same folder of runnable jar and "code.pl" is overwritten if already exists.

To see and modify the query language implementation in Eclipse:
- Create a new Java project without "module-info.java" file setting a jre version >= 15.0.1
- In the new project right-click and select "Import"
- In General folder select "Archive File"
- Browse the file "eclipseProject.jar"
- Click the button "Finish" and in the dialog "Question", appearing after the click, click "No to all"
- Right-click in the file "antlr-4.8-complete.jar" -> Build Path -> Add to Build Path
- Right click in file "TestRunner.java" Run As -> Run Configurations...
- In text-box "Program Arguments" inside the tab "Arguments" insert "input.txt code.pl" to read from file "input.txt" and to save the resulting code in "code.pl"
- Click "Apply" and the "Run"

To run the tool in the project run the "TestRunner.java" file.

The folder "src" containing the default package contains the files:
- "CodeBuilder.java", implementing the visitor that builds the code starting from the syntax tree
- "TestRunner.java", containing the main of the tool
- Other files generated by ANTLR implementing the parser and the Lexer
In the root of the project is also inserted the file "Tests.g4", containing the grammar of the query language.
